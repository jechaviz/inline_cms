cms.registerWidgetHandler("text",new function(){InlineWidget.apply(this,arguments);this.editor;this.editors={};this.getName=function(){return"text"};this.getIcon=function(){return"fa-font"};this.getToolbarButtons=function(){return{options:false}};this.onClick=false;this.onInit=function(){this.editor=$("#page-frame").prop("contentWindow").CKEDITOR;this.editor.dtd.$removeEmpty.i=false;this.editor.config=$.extend(this.editor.config,{language:cms.getLanguage(),allowedContent:true,fillEmptyBlocks:false,autoParagraph:false,stylesSet:false,startupShowBorders:false});this.editor.disableAutoInline=true};this.onInitWidget=function(a){this.appendEditor(a.domId,this.dom(a))};this.onCreateWidget=function(a){this.appendEditor(a.domId,this.dom(a),"<p>"+this.lang("defaultText")+"</p>");return a};this.getContent=function(a){return this.getEditorContent(a.domId)};this.appendEditor=function(e,b,d){if(typeof(d)==="string"){b.html(d)}var c=b.prop("contentEditable",true)[0];var a=this.editor.inline(c);a.on("change",function(){cms.setChanges()});this.editors[e]=a.name};this.getEditorContent=function(a){if(typeof(this.editors[a])==="undefined"){return""}return this.editor.instances[this.editors[a]].getData()}});