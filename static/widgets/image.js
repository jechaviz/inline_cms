cms.registerWidgetHandler("image",new function(){InlineWidget.apply(this,arguments);this.getName=function(){return"image"};this.getIcon=function(){return"fa-picture-o"};this.getToolbarButtons=function(){var a=this;return{options:{icon:"fa-picture-o",click:function(c,b){a.openOptionsForm(c,b)}}}};this.openOptionsForm=function(d,c){var a=cms.getWidgetOptions(d,c);var b=this;cms.showImageDialog(a,function(f,g,e){b.saveOptions(d,c,g,e);b.applyImage(cms.getWidget(d,c),f)})};this.onCreateWidget=function(a,b){this.openOptionsForm(b,a.id);return a};this.applyImage=function(a,b){var c=this.dom(a);c.empty();$(b).appendTo(c)}});